<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Vince Train</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --blue:#4da3ff;
  --light:#e9f4ff;
  --dark:#0a2540;
  --bg:#f4f7fb;
  --green:#2ecc71;
}
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto}
body{margin:0;background:var(--bg);color:var(--dark)}
.hidden{display:none}

header{
  background:white;
  padding:15px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 10px 30px rgba(0,0,0,.05)
}
header h1{margin:0;color:var(--blue)}

nav button{
  background:var(--blue);
  color:white;
  border:none;
  padding:10px 22px;
  border-radius:30px;
  margin-left:10px;
  cursor:pointer;
  box-shadow:0 6px 15px rgba(77,163,255,.35);
  transition:all .2s;
}

nav button:hover{
  transform:translateY(-1px);
  box-shadow:0 10px 20px rgba(77,163,255,.45);
}

nav button:active{
  transform:scale(.97);
}

.container{max-width:1100px;margin:auto;padding:20px}
.card{
  background:white;
  border-radius:20px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.05)
}

input,select,button{
  padding:14px;
  border-radius:30px;
  border:1px solid #ddd;
  width:100%;
  margin-bottom:10px;
}
button{background:var(--blue);color:white;border:none;cursor:pointer}

.search-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:15px;
}

.train-card{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:15px;
  margin-bottom:15px;
}

.train-visual{
  width:70px;height:26px;
  background:linear-gradient(90deg,var(--blue),#7bc1ff);
  border-radius:20px;
}

.badge{
  background:var(--light);
  color:var(--blue);
  padding:6px 12px;
  border-radius:20px;
  font-size:12px;
}

.success{
  text-align:center;
  padding:40px;
}
.check{
  width:80px;height:80px;
  border-radius:50%;
  background:var(--green);
  color:white;
  font-size:50px;
  line-height:80px;
  margin:auto;
}
</style>
</head>

<body>

<!-- CONNEXION -->
<div class="container" id="login">
  <div class="card">
    <h2>Connexion Vince Train</h2>
    <input id="prenom" placeholder="Pr√©nom">
    <input id="nom" placeholder="Nom">
    <input id="email" placeholder="Adresse e-mail">
    <button onclick="connect()">Se connecter</button>
  </div>
</div>

<!-- HEADER -->
<header id="header" class="hidden">
  <h1>Vince Train</h1>
  <nav>
    <button onclick="showSearch()">Rechercher</button>
    <button onclick="showBookings()">Mes r√©servations</button>
  </nav>
</header>

<!-- APPLICATION -->
<div class="container hidden" id="app">

  <!-- RECHERCHE -->
  <div class="card" id="search">
    <h2>Rechercher un voyage</h2>
    <div class="search-grid">
      <input id="from" placeholder="D√©part">
      <input id="to" placeholder="Arriv√©e">
      <input type="date">
      <select id="distance">
        <option value="short">Trajet court</option>
        <option value="medium">Trajet moyen</option>
        <option value="long">Trajet long</option>
      </select>
      <button onclick="searchTrain()">Rechercher</button>
    </div>
  </div>

  <!-- R√âSULTATS -->
  <div class="card hidden" id="results">
    <h2>Trains disponibles</h2>
    <div id="list"></div>
  </div>

  <!-- PAIEMENT -->
  <div class="card hidden" id="payment">
    <h2>Paiement</h2>
    <input placeholder="Num√©ro de carte">
    <input placeholder="MM/AA">
    <input placeholder="CVV">
    <button onclick="pay()">Payer</button>
  </div>

  <!-- SUCC√àS -->
  <div class="card hidden" id="success">
    <div class="success">
      <div class="check">‚úì</div>
      <h2>Paiement accept√©</h2>
    </div>
  </div>

  <!-- R√âSERVATIONS -->
  <div class="card hidden" id="bookings">
    <h2>Mes r√©servations</h2>
    <div id="tickets"></div>
  </div>

</div>

<script>
let currentTicket="";

function connect(){
  const p=document.getElementById("prenom").value;
  const n=document.getElementById("nom").value;
  const e=document.getElementById("email").value;

  if(!p || !n || !e){
    alert("Veuillez remplir tous les champs");
    return;
  }

  document.getElementById("login").classList.add("hidden");
  document.getElementById("header").classList.remove("hidden");
  document.getElementById("app").classList.remove("hidden");
  showSearch();
}

function showSearch(){
  document.getElementById("search").classList.remove("hidden");
  document.getElementById("results").classList.add("hidden");
  document.getElementById("payment").classList.add("hidden");
  document.getElementById("success").classList.add("hidden");
  document.getElementById("bookings").classList.add("hidden");
}

function showBookings(){
  document.getElementById("search").classList.add("hidden");
  document.getElementById("results").classList.add("hidden");
  document.getElementById("payment").classList.add("hidden");
  document.getElementById("success").classList.add("hidden");
  document.getElementById("bookings").classList.remove("hidden");
}

function searchTrain(){
  const from=document.getElementById("from").value;
  const to=document.getElementById("to").value;
  const d=document.getElementById("distance").value;

  // Mapping longueur ‚Üí type de train strict
  let type = d==="short"?"RER":d==="medium"?"TER":"TGV";

  document.getElementById("results").classList.remove("hidden");
  const list=document.getElementById("list");
  list.innerHTML="";

  for(let i=0;i<10;i++){
    const price=Math.floor(Math.random()*40)+20;
    const h=6+i;
    list.innerHTML+=`
      <div class="train-card">
        <div class="train-visual"></div>
        <div>
          <strong>${from} ‚Üí ${to}</strong><br>
          ${h}:00 - ${h+2}:00<br>
          <span class="badge">${type}</span>
        </div>
        <div>${price} ‚Ç¨</div>
        <button onclick="choose('${from} ‚Üí ${to}','${type}','${price} ‚Ç¨')">Choisir</button>
      </div>`;
  }
}

function choose(route,type,price){
  currentTicket=`${route} | ${type} | ${price}`;
  document.getElementById("payment").classList.remove("hidden");
}

function pay(){
  document.getElementById("payment").classList.add("hidden");
  document.getElementById("success").classList.remove("hidden");

  setTimeout(()=>{
    document.getElementById("success").classList.add("hidden");
    document.getElementById("tickets").innerHTML+=`<p>üéüÔ∏è ${currentTicket}</p>`;
    showBookings();
  },1500);
}
</script>

</body>
</html>